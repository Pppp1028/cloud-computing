
<html>
    <head><meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>淡江大學 2021雲端運算課程 OpenData</title>
    </head>
    <body>
     <script type="text/JavaScript">
    
     
      
    fetch('https://tcgbusfs.blob.core.windows.net/dotapp/youbike/v2/youbike_immediate.json', { 
      method: 'GET'
    })
    .then(function(response) { return response.json(); })
    .then(function(json) {
      // use the json
      var tableString="<table border=0><tr bgcolor='grey'><td style='background-color:blue;font-weight:bold;text-align:center'>站名</td><td style='font-weight:bold;text-align:center'>區域</td><td style='font-weight:bold;text-align:center'>地理位置</td><td style='font-weight:bold'>可借車輛</td><td style='font-weight:bold;'>總車輛</td><td style='background-color:red;text-align:center;font-weight:bold;'>上次更新時間</td></tr>";
      
      for(var i=0 ; i<json.length ; i++){
        var station = json[i];
        tableString += "<tr><td style='color:blue'>"+
            station.sna+"</td><td style='text-align:center;'>"+
            station.sarea+"</td><td style= 'text-align:center';>"+
            station.ar+"</td><td style='color:58EA37;text-align:center;'>"+
            station.sbi+"</td><td style='color:black;text-align:center;'>"+
            station.tot+"</td><td style='color:red;text-align:center'>"+
            station.srcUpdateTime+"</td></tr>";
        /*console.log(station.sna + "(" + station.sbi + "/" + station.tot + ")");//sna = station name
        if(station.sbi==0){
          document.write("<span style='color:red;'>"+station.sna + 
          "(" + station.sbi + "/" + station.tot + ")<br/>");  
        }else{
          document.write("<span style='color:blue;'>"+station.sna +
          "(" + station.sbi + "/" + station.tot + ")<br/>");
        }*/
      }
        tableString += "</table>";
      document.write(tableString);
    });
      </script>
     <div id="station"></div>
    </body>
    </html>